<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0067)https://www.fit.vutbr.cz/study/courses/IIS/private/projekt/doc.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
    
    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
    </style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu 
     podle pou¾itého editoru -->

<h1>5. ©kola: správa a registrace výukových kurzù	</h1>

<dl>
	<dt>Autoøi</dt>
	<dd>Køehlík Petr
	    <a href="mailto:xkrehl04@stud.fit.vutbr.cz">xkrehl04@stud.fit.vutbr.cz</a> -
		Pøihla¹ování, správa u¾ivatelù, rozvrh, tabulky
	</dd>
	<dd>Klobu¹ický Martin
	    <a href="mailto:xklobu03@stud.fit.vutbr.cz">xklobu03@stud.fit.vutbr.cz</a> - 
		Správa místností, styl stránky
	</dd>
  <dd>Záhorský Matej
	    <a href="mailto:xzahor04@stud.fit.vutbr.cz">xzahor04@stud.fit.vutbr.cz</a> - 
		Správa kurzù, termínù, ¾ádostí
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="http://www.stud.fit.vutbr.cz/~xkrehl04/">http://www.stud.fit.vutbr.cz/~xkrehl04/</a></dd>
	<dd><a href="http://www.xkrehl04.g6.cz/">http://www.xkrehl04.g6.cz/</a></dd>
</dl>

<h2>U¾ivatelé systému pro testování</h2>
<p>Uveïte prosím existující zástupce <strong>v¹ech rolí u¾ivatelù</strong>.</p>
<table>
<tbody><tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
<tr><td>student@a.a</td><td>123</td><td>Student</td></tr>
<tr><td>lektor@a.a</td><td>123</td><td>Lektor</td></tr>
<tr><td>garant@a.a</td><td>123</td><td>Garant</td></tr>
<tr><td>veduci@a.a</td><td>123</td><td>Vedoucí</td></tr>
<tr><td>admin@a.a</td><td>123</td><td>Administrátor</td></tr>
</tbody></table>

<p>Projekt implementuje pøípady u¾ití podle zadání.</p> 

<h2>Implementace</h2>
Pro implementaci jsme zvolil framework Nette. Projekt je rozdìlený na ¹ablony, presentery a modely. Ka¾dá úroveò u¾ivatelù má vlastní presenter plus je je¹tì dodateèný presenter pro zpracování po¾adavkù na u¾ivatele.<br><br>
Pro zobrazení dat z databáze jsme pou¾ili ublaboo/datagrid, který poskytuje pøehledné zobrazení dat s filtrováním. Rozvrh se zobrazuje pomocí pluginu <a href="http://timetablejs.org/">timetable.js</a> a zobrazuje v¹echny termíny, na které má daný student pøístup.<br><br>
Jako základ pro vzhled webu slou¾í <a href="https://getbootstrap.com/">Bootstrap 4</a> a <a href="https://fontawesome.com/">FontAwesome</a>. Vzhled vychází z opensource ¹ablony <a href="https://startbootstrap.com/templates/sb-admin/">SB Admin</a>. Web z velké èásti pou¾ívá <a href="https://jquery.com/">jQuery</a> a AJAX pro zpracování po¾adavkù a dal¹í roz¹íøení, která jsou dostupná pøímo v Nette.
Notifikace jsou zobrazeny pomocí <a href="https://notifyjs.jpillora.com/">notify.js</a> a vyskakovací okna pomocí <a href="https://notifyjs.jpillora.com/">popper.js</a> a modal boxy pomocí Bootstrap.<br><br>

Ka¾dý presenter pøi své inicializaci nejprve zavolá startUpModel, který se postará o kontrou pøihlá¹ení a jestli má u¾ivatel dostateèná opravnìní, pokud ne tak je pøesmìrován na domovskou stránku.
Pro ka¾dý presenter existuje model, který implementuje èást funkcí, které pou¾ívá. Modely jsou kaskádovì propojené, aby AdminModel mìl pøístup k StudentModel.
Pro presentery existuje globální Latte ¹ablona s hlavièkou webu. Ta poté podle adresy pou¾ívá dal¹í ¹ablony podle presenteru.<br>
Automatické odhlá¹ení probíhá po 5 minutách neèinnosti my¹i.<br>
Vybavení místností se v systému bere jako unikátní a a po pøiøazení do místnosti není mo¾né pøiøadit jiné.
<br><br>
<h3>Databáze</h3>
Hesla jsou v databázi ulo¾ena v za¹ifrované podobì pomocí BCRYPT.
<img src="diagram.png"/>

<h2>Instalace</h2>

Struènì popi¹te: 
<ul>
<li>Pro správné fungování je potøeba mít nastavený webový server s podporou mod_rewrite (.htaccess je pøilo¾ený a nastavený), nejlépe Apache2.</li>
<li>Projekt vy¾aduje PHP 7.0 a novìj¹í a MySQL 5.6 a novìj¹í. Vyu¾ívá databázi typu InnoDB.</li>
<li>Projekt je tøeba rozbalit do slo¾ky webového serveru a pomocí .htaccess nastavit ji¾ zmínìné po¾adavky. Server by mìl být také nastavený, aby pøesmìrovával do slo¾ky www, kde je index.php, do jiných slo¾ek by pøístup nemìl umo¾òovat.</li>
<li>Pomocí pøilo¾eného skriptu je nutné nastavit databázi. Proto¾e konfiguraèní soubor local.neon, umístìný v app/config, obsahuje nastavení pøipojení k databázi Endory a k té není vzdálený pøístup mo¾ný. Je ale mo¾né to zmìnit a pou¾ít pøilo¾ený skript pro inicializaci databáze.</li>
<li>Pokud se v¹e povede, tak by mìl být web funkèní</li>
</ul>

<h2>Pou¾íté knihovny</h2>
bootstrap.min.css,
fontawesome.css,
select-row.css,
datagrid.css,
datagrid-spinners.css,
bootstrap-select.min.css,
timetablejs.css,
all.css,
dataTables.bootstrap4.css,
sb-admin.min.css,
jquery.min.js,
jquery-ui-sortable.min.js,
bootstrap.bundle.min.js,
jquery.easing.min.js,
Chart.min.js,
jquery.dataTables.js,
dataTables.bootstrap4.js,
sb-admin.min.js,
bootstrap-select.min.js,
netteForms.min.js,
nette.ajax.js,
live-form-validation.js,
notify.min.js,
datagrid.js,
datagrid-instant-url-refresh.js,
datagrid-spinners.js,
timetable.js,
webfonts
<br><br>
V¹echny knihovny byly pou¾ity v nejnovìj¹í verzi ke dni 2.12.2019.

<h2>Známé problémy</h2>
Nìkteré datagrid po zmìnì poètu zobrazovaných záznamù na stránku ji¾ nefungují kvùli zmìnì URL a ztracení GET parametru.

</body></html>